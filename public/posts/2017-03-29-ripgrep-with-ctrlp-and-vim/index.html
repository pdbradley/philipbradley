<!DOCTYPE html>
<html lang="en">




<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Using Ripgrep with Vim in CtrlP and Ack.vim
     | Philip Bradley 
  </title>
  <link rel="stylesheet" href='http://www.philipbradley.net/css/site.min.eb4797a608f467160f71b5cc518dffb9b3fef0edc95e6def8dc4033ba1888b8f414e3d1d3e6c9804ca3e6f125539d8af48b28dcecb4eafc5805bde0b3c8d6956.css' integrity='sha512-60eXpgj0ZxYPcbXMUY3/ubP&#43;8O3JXm3vjcQDO6GIi49BTj0dPmyYBMo&#43;bxJVOdivSLKNzstOr8WAW94LPI1pVg=='>
  <link rel="canonical" href="http://www.philipbradley.net/posts/2017-03-29-ripgrep-with-ctrlp-and-vim/">
  <link rel="alternate" type="application/rss&#43;xml" href="http://www.philipbradley.net/index.xml" title="Philip Bradley">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="Philip Bradley">
<meta name="description" content="Sometimes to improve and broaden my mind I watch the Kardashians. (Who knew such sublime things would one day be televised?) Anyway last week when Kylie and Kendall nearly came to blows over which plain-text search utility was the fastest, I felt fortunate to have tuned in—&ldquo;What is ripgrep, and why is Kylie so excited about it,&quot;, I wondered aloud.
Well it turns out that ripgrep is the next in a line of improvements to grep, the ole standby text search utility we grew up with.">

<meta property="og:title" content="Using Ripgrep with Vim in CtrlP and Ack.vim" />
<meta property="og:description" content="Sometimes to improve and broaden my mind I watch the Kardashians. (Who knew such sublime things would one day be televised?) Anyway last week when Kylie and Kendall nearly came to blows over which plain-text search utility was the fastest, I felt fortunate to have tuned in—&ldquo;What is ripgrep, and why is Kylie so excited about it,&quot;, I wondered aloud.
Well it turns out that ripgrep is the next in a line of improvements to grep, the ole standby text search utility we grew up with." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.philipbradley.net/posts/2017-03-29-ripgrep-with-ctrlp-and-vim/" />
<meta property="article:published_time" content="2017-03-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-01T19:14:28-05:00" />


</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="http://www.philipbradley.net/">
      <figure class="image">
        <img alt="" class="is-rounded" src="https://www.gravatar.com/avatar/17335e97ee934bff90fe4ddcaf0bb5fd?s=128&d=identicon">
      </figure>
    </a>
    <a class="navbar-item" href="http://www.philipbradley.net/">
      Philip Bradley
    </a>
  </div>
  
  <div class="navbar-menu">
    <div class="navbar-start">
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ack/">
        
        Ack
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/activerecord/">
        
        Activerecord
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/bootcamps/">
        
        Bootcamps
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/capybara/">
        
        Capybara
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/flashcards/">
        
        Flashcards
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/git/">
        
        Git
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/rails/">
        
        Rails
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/refactoring/">
        
        Refactoring
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ripgrep/">
        
        Ripgrep
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/rspec/">
        
        Rspec
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ruby/">
        
        Ruby
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/search/">
        
        Search
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/vim/">
        
        Vim
        
      </a>
      
    </div>
    
    <div class="navbar-end">
      
      <a class="navbar-item" href="https://github.com/orf/" rel="noopener" target="_blank">
        <span class="icon">
          <img alt="github-circle" src='http://www.philipbradley.net/icons/svg/github-circle.svg'>
        </span>
      </a>
      
      <a class="navbar-item" href="mailto:nope@example.com" target="_blank">
        <span class="icon">
          <img alt="email" src='http://www.philipbradley.net/icons/svg/email.svg'>
        </span>
      </a>
      <a class="navbar-item" href="http://www.philipbradley.net/index.xml" target="_blank">
        <span class="icon">
          <img alt="rss" src='http://www.philipbradley.net/icons/svg/rss.svg'>
        </span>
      </a>
      
    </div>
  </div>
</nav>
<section class="hero is-small is-info is-fullwidth">
  <div class="hero-body">
<div class="container">
  <h1 class="title">
    Using Ripgrep with Vim in CtrlP and Ack.vim
  </h1>
  <h2 class="subtitle">
    <time datetime='2017-03-29T00:00:00Z'>
      March 29, 2017
    </time>
    
    <br>
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/vim/">vim</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/ack/">ack</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/ripgrep/">ripgrep</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/search/">search</a>
    
    
    
  </h2>
</div>

  </div>
</section>
<section class="section">
  <div class="container">
<div class="content is-medium">
  <p>Sometimes to improve and broaden my mind I watch the Kardashians. (Who knew such sublime things would one day be televised?)  Anyway last week when Kylie and Kendall
<a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">nearly came to blows</a>
over which plain-text search utility was the fastest, I felt fortunate to have tuned in—&ldquo;What is ripgrep, and why is Kylie so excited about it,&quot;, I wondered aloud.</p>
<p>Well it turns out that ripgrep is the next in a line of improvements to grep, the ole standby text search utility we grew up with.  Turns out ripgrep is fast. As in, maybe 2-5 times as fast as what you are using now.  You can <a href="http://blog.burntsushi.net/ripgrep/">read this</a> for the details, but suffice it to say that it was worth trying to figure out how to use it within vim for ctrlp (fuzzy file finding) and ack.vim (searching through the current project).  So here is how get that going on:</p>
<h5 id="1-install-ripgrep--on-mac--brew-install-ripgrep">1. Install ripgrep  (on mac, % brew install ripgrep)</h5>
<h5 id="2-configure-ctrlp-to-use-ripgrep-rg-instead-of-whatever-you-used-to-use--put-this-in-your-vimrc">2. Configure ctrlp to use ripgrep (rg) instead of whatever you used to use.  Put this in your .vimrc:</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">if</span> executable(<span style="color:#e6db74">&#39;rg&#39;</span>)
  let <span style="color:#e6db74">g</span>:ctrlp_user_command <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;rg --files %s&#39;</span>
  let <span style="color:#e6db74">g</span>:ctrlp_use_caching <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
  <span style="color:#f92672"></span>let <span style="color:#e6db74">g</span>:ctrlp_working_path_mode <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ra&#39;</span>
  let <span style="color:#e6db74">g</span>:ctrlp_switch_buffer <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;et&#39;</span>
endif</code></pre></div>
<h5 id="3-configure-ackvim-to-use-ripgrep-instead-of-ag-or-whatever-you-used-to-use--put-this-in-your-vimrc">3. Configure ack.vim to use ripgrep instead of ag or whatever you used to use.  Put this in your .vimrc:</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">  let <span style="color:#e6db74">g</span>:ackprg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;rg --vimgrep --no-heading&#39;</span></code></pre></div>
<h5 id="4-sweet--you-just-got-a-few-milliseconds-back-on-every-search--they-do-add-up">4. Sweet!  You just got a few milliseconds back on every search.  (they do add up)</h5>

</div>


  </div>
</section><footer class="footer">
  <div class="content has-text-centered">
    
    <p>
      Last modified January 01, 2020
      
      (commit 680bbe0)
      
    </p>
    
    
    <p>
      
      
    </p>
    
  </div>
</footer>


</body>
</html>
