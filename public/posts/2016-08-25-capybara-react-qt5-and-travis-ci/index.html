<!DOCTYPE html>
<html lang="en">




<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Installing QT5 on Travis-CI to use Capybara Webkit with React Components
     | Philip Bradley 
  </title>
  <link rel="stylesheet" href='http://www.philipbradley.net/css/site.min.eb4797a608f467160f71b5cc518dffb9b3fef0edc95e6def8dc4033ba1888b8f414e3d1d3e6c9804ca3e6f125539d8af48b28dcecb4eafc5805bde0b3c8d6956.css' integrity='sha512-60eXpgj0ZxYPcbXMUY3/ubP&#43;8O3JXm3vjcQDO6GIi49BTj0dPmyYBMo&#43;bxJVOdivSLKNzstOr8WAW94LPI1pVg=='>
  <link rel="canonical" href="http://www.philipbradley.net/posts/2016-08-25-capybara-react-qt5-and-travis-ci/">
  <link rel="alternate" type="application/rss&#43;xml" href="http://www.philipbradley.net/index.xml" title="Philip Bradley">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="Philip Bradley">
<meta name="description" content="Because this took me so long to figure out, I&#39;m posting it. On some capybara feature tests, my react components would not render (on Travis).
Eventually I figured out that this was because I was missing qt5 on Travis (Ubuntu 12.04)
Anyhow, after about 3 HOURS of tinkering, this is what works. The main thing to remember is you have to put dist: trusty in your config.
# put this in your .">

<meta property="og:title" content="Installing QT5 on Travis-CI to use Capybara Webkit with React Components" />
<meta property="og:description" content="Because this took me so long to figure out, I&#39;m posting it. On some capybara feature tests, my react components would not render (on Travis).
Eventually I figured out that this was because I was missing qt5 on Travis (Ubuntu 12.04)
Anyhow, after about 3 HOURS of tinkering, this is what works. The main thing to remember is you have to put dist: trusty in your config.
# put this in your ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.philipbradley.net/posts/2016-08-25-capybara-react-qt5-and-travis-ci/" />
<meta property="article:published_time" content="2016-08-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-01T19:14:28-05:00" />


</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="http://www.philipbradley.net/">
      <figure class="image">
        <img alt="" class="is-rounded" src="https://www.gravatar.com/avatar/17335e97ee934bff90fe4ddcaf0bb5fd?s=128&d=identicon">
      </figure>
    </a>
    <a class="navbar-item" href="http://www.philipbradley.net/">
      Philip Bradley
    </a>
  </div>
  
  <div class="navbar-menu">
    <div class="navbar-start">
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ack/">
        
        Ack
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/activerecord/">
        
        Activerecord
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/bootcamps/">
        
        Bootcamps
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/capybara/">
        
        Capybara
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/flashcards/">
        
        Flashcards
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/git/">
        
        Git
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/rails/">
        
        Rails
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/refactoring/">
        
        Refactoring
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ripgrep/">
        
        Ripgrep
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/rspec/">
        
        Rspec
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/ruby/">
        
        Ruby
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/search/">
        
        Search
        
      </a>
      
      <a class="navbar-item" href="http://www.philipbradley.net/tags/vim/">
        
        Vim
        
      </a>
      
    </div>
    
    <div class="navbar-end">
      
      <a class="navbar-item" href="https://github.com/orf/" rel="noopener" target="_blank">
        <span class="icon">
          <img alt="github-circle" src='http://www.philipbradley.net/icons/svg/github-circle.svg'>
        </span>
      </a>
      
      <a class="navbar-item" href="mailto:nope@example.com" target="_blank">
        <span class="icon">
          <img alt="email" src='http://www.philipbradley.net/icons/svg/email.svg'>
        </span>
      </a>
      <a class="navbar-item" href="http://www.philipbradley.net/index.xml" target="_blank">
        <span class="icon">
          <img alt="rss" src='http://www.philipbradley.net/icons/svg/rss.svg'>
        </span>
      </a>
      
    </div>
  </div>
</nav>
<section class="hero is-small is-info is-fullwidth">
  <div class="hero-body">
<div class="container">
  <h1 class="title">
    Installing QT5 on Travis-CI to use Capybara Webkit with React Components
  </h1>
  <h2 class="subtitle">
    <time datetime='2016-08-25T00:00:00Z'>
      August 25, 2016
    </time>
    
    <br>
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/ruby/">ruby</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/capybara/">capybara</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/rails/">rails</a>
    
    
    
    
    <a class="tag is-link" href="http://www.philipbradley.net/tags/rspec/">rspec</a>
    
    
    
  </h2>
</div>

  </div>
</section>
<section class="section">
  <div class="container">
<div class="content is-medium">
  <p>Because this took me so long to figure out, I'm posting it.  On some capybara feature tests, my react components would not render (on Travis).</p>
<p>Eventually I figured out that this was because I was missing qt5 on Travis (Ubuntu 12.04)</p>
<p>Anyhow, after about 3 HOURS of tinkering, this is what works.  The main thing to remember is you have to put dist: trusty in your config.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#75715e"># put this in your .travis.yml near the top</span>
<span style="color:#e6db74">dist</span>: trusty

<span style="color:#75715e"># and this in the before_install options.</span>
<span style="color:#75715e"># The QMAKE line is required to get capybara-webkit to work with qt5</span>
<span style="color:#e6db74">before_install</span>:
<span style="color:#f92672">-</span> sudo add<span style="color:#f92672">-</span>apt<span style="color:#f92672">-</span>repository <span style="color:#f92672">-</span><span style="color:#f92672">-</span>yes <span style="color:#e6db74">ppa</span>:ubuntu<span style="color:#f92672">-</span>sdk<span style="color:#f92672">-</span>team<span style="color:#f92672">/</span>ppa
<span style="color:#f92672">-</span> sudo apt<span style="color:#f92672">-</span>get update <span style="color:#f92672">-</span>qq
<span style="color:#f92672">-</span> sudo apt<span style="color:#f92672">-</span>get install <span style="color:#f92672">-</span>qq libqt5webkit5<span style="color:#f92672">-</span>dev qtdeclarative5<span style="color:#f92672">-</span>dev
<span style="color:#f92672">-</span> export <span style="color:#66d9ef">QMAKE</span><span style="color:#f92672">=</span><span style="color:#e6db74">/</span><span style="color:#e6db74">usr</span><span style="color:#e6db74">/</span>lib<span style="color:#f92672">/</span>x86_64<span style="color:#f92672">-</span>linux<span style="color:#f92672">-</span>gnu<span style="color:#f92672">/</span>qt5<span style="color:#f92672">/</span>bin<span style="color:#f92672">/</span>qmake</code></pre></div>

</div>


  </div>
</section><footer class="footer">
  <div class="content has-text-centered">
    
    <p>
      Last modified January 01, 2020
      
      (commit 680bbe0)
      
    </p>
    
    
    <p>
      
      
    </p>
    
  </div>
</footer>


</body>
</html>
